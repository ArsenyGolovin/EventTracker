CREATE TABLE IF NOT EXISTS client (
	id			INT 		AUTO_INCREMENT PRIMARY KEY,
	name		VARCHAR(50) NOT NULL,
	password	VARCHAR(50) NOT NULL
);

CREATE TABLE IF NOT EXISTS event (
	id				INT		AUTO_INCREMENT PRIMARY KEY,
	creator_id		INT		NOT NULL,
	name			VARCHAR(50) NOT NULL,
	start_datetime	DATETIME,
	end_datetime	DATETIME
);

CREATE TABLE IF NOT EXISTS entry (
	id				INT AUTO_INCREMENT PRIMARY KEY,
	parttaker_id	INT NOT NULL,
	event_id		INT NOT NULL,
	FOREIGN KEY (parttaker_id) REFERENCES client(id) ON DELETE CASCADE,
    FOREIGN KEY (event_id) REFERENCES event(id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS stage (
	id			CHAR(26)	PRIMARY KEY,
    title		VARCHAR(50)	NOT NULL,
    event_id	BIGINT		NOT NULL,
    FOREIGN KEY (event_id) REFERENCES event(id) ON DELETE CASCADE
);